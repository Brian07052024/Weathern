<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Consulta el clima actual en Monterrey, Nuevo León. Visualiza temperatura, sensación térmica, pronóstico semanal, viento, humedad y más.">
    <link rel="stylesheet" href="./assets/output.css" />
    <title>Vite App</title>
  </head>

  <body id="body">
    <div class="flex flex-col gap-4 px-3 py-4 max-w-full min-w-[350px]">
      
      <!-- ===========================
           HEADER
      ============================ -->
      <header class="flex flex-col gap-4">
        
        <!-- Top bar with location and menu -->
        <section class="flex items-center relative">
          <div>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
              class="bi bi-list" viewBox="0 0 16 16" aria-label="Menú">
              <path fill-rule="evenodd"
                d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5" />
            </svg>
          </div>

          <div class="flex items-center w-full justify-center">
            <p class="text-xl font-bold">Monterrey, Nuevo León</p>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
              class="bi bi-geo-alt-fill" viewBox="0 0 16 16" aria-label="Ubicación actual">
              <path
                d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6" />
            </svg>
          </div>
        </section>

        <!-- Sensación térmica -->
        <section>
          <p id="real">Thermal sensation: loading...</p>
        </section>

      </header>

      <!-- ===========================
           MAIN CONTENT
      ============================ -->
      <main class="grid gap-4 grid-cols-2">

        <!-- Temperatura actual principal -->
        <section class="rounded-2xl flex gap-2 flex-col items-center justify-center col-span-2 h-40 fondo-tra fondo-transparente relative cursor-pointer hover:scale-105 transition">
          
          <p id="celcius" class="text-5xl font-bold">loading...</p>
          <span id="weather-desc" class="text-xs">loading...</span>
          <img id="weather-icon" class="w-16 absolute top-4 left-4" src="" alt="Weather icon">
          
        </section>

        <!-- Temperaturas mínimas/máximas + pronóstico horario -->
        <section class="rounded-2xl fondo-transparente col-span-2 cursor-pointer hover:scale-105 transition">
          <div class="mx-2 my-2">
            <div class="flex flex-col gap-2">

              <div class="flex justify-evenly line border-b-1">
                <p id="min">Minimum: loading...</p>
                <p id="max">Maximum: loading...</p>
              </div>

              <ul>
                <li id="horario-diario" class="gap-4 flex overflow-x-scroll scroll-custom"></li>
              </ul>

            </div>
          </div>
        </section>

        <!-- Humedad -->
        <section class="flex flex-col gap-2 justify-center items-center rounded-2xl fondo-transparente col-span-1 cursor-pointer hover:scale-105 transition">
          <div class="mx-4 my-2 flex flex-col items-center">
            <img class="w-10" src="./assets/SVG/drop.svg" alt="Humedad">
            <p id="humedad" class="font-bold">loading...</p>
          </div>
        </section>

        <!-- Viento -->
        <section class="flex flex-col gap-2 justify-center items-center rounded-2xl fondo-transparente col-span-1 cursor-pointer hover:scale-105 transition">
          <div class="mx-4 my-2 flex flex-col items-center">
            <img class="w-10" src="./assets/SVG/wind.svg" alt="Velocidad del viento">
            <p id="aire" class="font-bold">loading...</p>
          </div>
        </section>

        <!-- Temperatura del mar -->
        <section class="flex flex-col gap-2 justify-center items-center rounded-2xl fondo-transparente col-span-1 cursor-pointer hover:scale-105 transition">
          <div class="mx-4 my-2 flex flex-col items-center">
            <img class="w-10" src="./assets/SVG/water.svg" alt="Temperatura del mar">
            <p id="sea" class="font-bold">loading...</p>
          </div>
        </section>

        <!-- Temperatura del suelo -->
        <section class="flex flex-col gap-2 justify-center items-center rounded-2xl fondo-transparente col-span-1 cursor-pointer hover:scale-105 transition">
          <div class="mx-4 my-2 flex flex-col items-center">
            <img class="w-10" src="./assets/SVG/globe-americas.svg" alt="Temperatura del suelo">
            <p id="ground" class="font-bold">loading...</p>
          </div>
        </section>

        <!-- Pronóstico semanal -->
        <section class="rounded-2xl fondo-transparente col-span-2 flex flex-col gap-2 cursor-pointer hover:scale-105 transition">
          <div id="week" class="flex flex-col"></div>
        </section>

      </main>

      <footer class="py-10">
        <h1 class="font-bold">Wheatern</h1>
        <p>By: Brian Orlando Ramirez Nuñez</p>
        <p>©2025 all rights reserved</p>
        <p>-For mobile</p>
        <p>API: <span class="text-orange-200">Openweathermap</span></p>
        <span class="text-red-100 border-b-1">ATENCIÓN!</span>
        <p class="text-red-100">La información de la semana no es correcta respecto a la región, esto se debe a que la API no incluye esa información en el JSON.</p>
        <p class="text-red-100">Sobra decir que es posible plasmarla para que esta aplicación esté "completa"</p>
      </footer>
    </div>

    

    <!-- ===========================
         SCRIPT
    ============================ -->
    <script type="module" src="/src/main.js"></script>
  <!-- Code injected by live-server -->
<script>
	// <![CDATA[  <-- For SVG support
	if ('WebSocket' in window) {
		(function () {
			function refreshCSS() {
				var sheets = [].slice.call(document.getElementsByTagName("link"));
				var head = document.getElementsByTagName("head")[0];
				for (var i = 0; i < sheets.length; ++i) {
					var elem = sheets[i];
					var parent = elem.parentElement || head;
					parent.removeChild(elem);
					var rel = elem.rel;
					if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
						var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
						elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
					}
					parent.appendChild(elem);
				}
			}
			var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
			var address = protocol + window.location.host + window.location.pathname + '/ws';
			var socket = new WebSocket(address);
			socket.onmessage = function (msg) {
				if (msg.data == 'reload') window.location.reload();
				else if (msg.data == 'refreshcss') refreshCSS();
			};
			if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
				console.log('Live reload enabled.');
				sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
			}
		})();
	}
	else {
		console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
	}
	// ]]>
</script>
</body>
</html>
